# å‡½æ•° Function

å‡½æ•°æ˜¯ä¸€å°æ®µå¯é‡ç”¨çš„ä»£ç ï¼Œå¯ç”¨äºå°è£…æ“ä½œï¼Œè®¡ç®—ç»“æœå¹¶è¿”å›ã€‚å‡½æ•°æœ€æœ‰è¶£çš„åœ°æ–¹åœ¨äºï¼šå®ƒå¯ä»¥è°ƒç”¨å®ƒè‡ªèº«ï¼Œå³**é€’å½’**ã€‚

## å‡½æ•°å£°æ˜
ä»¥ä¸‹æ˜¯ä¸€ä¸ªè®¡ç®—ç›´è§’ä¸‰è§’å½¢æ–œè¾¹é•¿çš„å‡½æ•°ã€‚
```javascript
function xc(a, b) {
  var a2 = a * a;
  var b2 = b * b;
 Â return Math.sqrt(a2 + b2);  // Math.sqrt() ç”¨äºå¼€å¹³æ–¹
}
```
ğŸ’¡ å‹¾è‚¡å®šç†ï¼šå¹³é¢ä¸Šçš„ç›´è§’ä¸‰è§’å½¢çš„ä¸¤æ¡ç›´è§’è¾¹çš„é•¿åº¦ï¼ˆå¤ç§°å‹¾é•¿ã€è‚¡é•¿ï¼‰çš„å¹³æ–¹å’Œç­‰äºæ–œè¾¹é•¿ï¼ˆå¤ç§°å¼¦é•¿ï¼‰ã€‚

## å‡½æ•°è°ƒç”¨
```javascript
> xc(3, 4)
â†’ 5

> xc(6, 8)
â†’ 10
```

## å‡½æ•°å‚æ•°
å‡½æ•°å¯ä»¥æœ‰å‚æ•°ä¹Ÿå¯ä»¥æ²¡æœ‰å‚æ•°ã€‚
```javascript
> new Date().getFullYear()
â†’ 2017

> Math.abs(-3)
â†’ 3
```
å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œæœ‰æ—¶å€™å‚æ•°æ˜¯å¯é€‰çš„ã€‚
```javascript
> ['HTML', 'CSS', 'JavaScript'].join()
â†’ "HTML,CSS,JavaScript"

> ['HTML', 'CSS', 'JavaScript'].join(' ')
â†’ "HTML CSS JavaScript"
```
### é»˜è®¤å‚æ•°å€¼
è°ƒç”¨å‡½æ•°æ—¶å¦‚æœæ²¡æœ‰ç»™å‚æ•°èµ‹å€¼ï¼Œåˆ™å‚æ•°å€¼æ˜¯ `undefined`ã€‚ä½¿ç”¨ `=` å¯ä»¥ç»™å‚æ•°è®¾ç½®é»˜è®¤å€¼ã€‚`ES6`

ä»¥ä¸‹æ˜¯ä¸€ä¸ªè®¡ç®—åœ†é¢ç§¯çš„å‡½æ•°ã€‚
```javascript
function area(r, Ï€ = 3.14) {
 Â return Ï€ * r * r;
}
```
```javascript
> area(2)
â†’ 12.56

> area(2, Math.PI)
â†’ 12.566370614359172
```

è®¾ç½®é»˜è®¤å‚æ•°å€¼ã®å¤å¤é£æ ¼
```javascript
function area(r, Ï€) {
 Â Ï€ = Ï€ || 3.14;
  return Ï€ * r * r;
}
```
### å‚æ•°åˆ—è¡¨ arguments
åœ¨å‡½æ•°å†…éƒ¨å¯é€šè¿‡ `arguments` å¯¹è±¡è®¿é—®å‚æ•°åˆ—è¡¨ï¼Œåœ¨å‚æ•°ä¸ªæ•°ä¸ç¡®å®šæ—¶ä¸€èˆ¬é€šè¿‡éå† `arguments` è®¿é—®å„ä¸ªå‚æ•°ã€‚

ğŸ’¡ `arguments` æ˜¯ä¸€ä¸ª**è²Œä¼¼æ•°ç»„**çš„å¯¹è±¡ï¼Œå…·æœ‰ `length` å±æ€§ï¼Œå¯ä»¥é€šè¿‡ä¸‹æ ‡è®¿é—®å…ƒç´ ï¼Œä½†æ²¡æœ‰æ•°ç»„çš„æ–¹æ³•ã€‚

ä»¥ä¸‹å‡½æ•° `sum()` æ¥å—ä»»æ„æ•°ç›®çš„(æ•°å­—)å‚æ•°ï¼Œå¹¶è¿”å›è¿™äº›å‚æ•°çš„å’Œã€‚
```javascript
function sum() {
  var result = 0;
  for (var i = 0; i < arguments.length; i++) {
    result += arguments[i];
  }
  return result;
}
```
```javascript
> sum(1, 2, 3, 4, 5)
â†’ 15
```

## å‡½æ•°è¿”å›å€¼
åœ¨å‡½æ•°ä¸­ä½¿ç”¨ `return` è¿”å›å€¼ã€‚  
* è‹¥å‡½æ•°ä¸­æ²¡æœ‰ `return` æˆ–åªæ˜¯é€šè¿‡ `return;` ç»“æŸå‡½æ•°çš„æ‰§è¡Œï¼Œåˆ™å‡½æ•°çš„è¿”å›å€¼æ˜¯ `undefined`ã€‚
* è‹¥å‡½æ•°ä¸­åŒ…å« `return` ä¸”æœ‰å…·ä½“çš„è¿”å›å€¼ï¼Œå¦‚ `return a + b;`ï¼Œåˆ™å‡½æ•°çš„è¿”å›å€¼æ˜¯ `return` åé¢çš„è¡¨è¾¾å¼çš„å€¼ã€‚

âš ï¸ æ°¸è¿œä¸è¦åœ¨ `return` å’Œè¿”å›å€¼ä¹‹é—´æ·»åŠ æ¢è¡Œã€‚

å½“è¿”å›çš„è¡¨è¾¾å¼è¾ƒé•¿æ—¶ï¼Œä½ å¯èƒ½ä¼šæƒ³æŠŠå®ƒæ”¾åˆ°ä¸‹ä¸€è¡Œã€‚ä»¥ä¸‹ä»£ç ä¼šä½¿å‡½æ•°è¿”å› `undefined`ï¼Œ
```javascript
return
  (1 + 2 + 3 + 4 + 5 + 6 + 7 + 8 + 9 + 10 + 11 + 12 + 13 + 14 + 15);
```
å› ä¸ºå®ƒç­‰ä»·äºä»¥ä¸‹ä»£ç ã€‚
```javascript
return;
  (1 + 2 + 3 + 4 + 5 + 6 + 7 + 8 + 9 + 10 + 11 + 12 + 13 + 14 + 15);
```

## å‡½æ•°è¡¨è¾¾å¼
å‡½æ•°å¯ä»¥ä½œä¸ºå€¼ç»™å˜é‡èµ‹å€¼ã€‚
```javascript
var xc = function(a, b) {
  return Math.sqrt(a * a + b * b);
};
```
è°ƒç”¨æ–¹å¼ä¸å‡½æ•°å£°æ˜æ–¹å¼ä¸€è‡´ã€‚
```javascript
> xc(3, 4)
â†’ 5

> xc(6, 8)
â†’ 10
```

### åŒ¿åå‡½æ•°
åŒ¿åå‡½æ•°åœ¨ JavaScript ä¸­è¢«å¹¿æ³›ä½¿ç”¨ï¼Œå°¤å…¶æ˜¯åœ¨ç›‘å¬æµè§ˆå™¨äº‹ä»¶æ—¶ã€‚
```javascript
// æµè§ˆå™¨çª—å£å¤§å°æ”¹å˜æ—¶ï¼Œè¾“å‡ºçª—å£å®½é«˜ã€‚addEventListener ç”¨äºæ·»åŠ äº‹ä»¶ç›‘å¬å™¨ã€‚
window.addEventListener('resize', function() {
 Â console.log(`å½“å‰çª—å£å®½åº¦ï¼š${window.innerWidth}px é«˜åº¦ï¼š${window.innerHeight}px`);
});
```

### IIFE
IIFE å…¨ç§° Immediately-Invoked Function Expressionï¼Œè¯‘ä½œ**ç«‹å³æ‰§è¡Œã®å‡½æ•°è¡¨è¾¾å¼**ã€‚
```javascript
(function() {
 Â var keyframes = [
    { opacity: 1, transform: 'translateY(-180px)' }, 
    { opacity: 1, transform: 'translateY(0)' }
  ];
  var options = {
    duration: 600,
    easing: 'cubic-bezier(0.565,1.65,0.765,0.88)',
  };
  document.body.animate(keyframes, options);
})();
```
IIFE è¿˜æœ‰ä»¥ä¸‹å‡ ç§å†™æ³•ï¼Œåªè¦æŒæ¡å…¶ä¸­ä¸€ç§å°± ğŸ†— äº†ã€‚
```javascript
(function() {
  console.log('ç«‹å³æ‰§è¡ŒğŸš€');
}());

!function() {
  console.log('ç«‹å³æ‰§è¡ŒğŸš€');
}();

+function() {
  console.log('ç«‹å³æ‰§è¡ŒğŸš€');
}();
```

## å‡½æ•°ä½œç”¨åŸŸ
åœ¨å‡½æ•°å†…å£°æ˜çš„å˜é‡ä»…åœ¨å‡½æ•°å†…éƒ¨å¯è§ã€‚
```javascript
function greet() {
 Â var message = 'æ—©';
  console.log(message);
}
```
```javascript
> greet()
 Â æ—©
â†’ undefined

> message
Ã— Uncaught ReferenceError: message is not defined
    at <anonymous>:1:1 
```

å‡½æ•°å¯ä»¥è®¿é—®å…¶ä½œç”¨åŸŸä»¥å¤–çš„å˜é‡ã€‚
```javascript
var name = 'å°æ³¢å…ˆç”Ÿ';

function greet() {
 Â var message = `æ—©ï¼${name}`;
  console.log(message);
}
```
```javascript
> greet()
 Â æ—©ï¼å°æ³¢å…ˆç”Ÿ
â†’ undefined
```
æ‰€æœ‰å‡½æ•°å¤–çš„é¡¶å±‚ç¯å¢ƒè¢«ç§°ä¸º**å…¨å±€ä½œç”¨åŸŸ**ï¼Œå®šä¹‰åœ¨å…¨å±€ä½œç”¨åŸŸçš„å€¼å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹è¢«è®¿é—®ã€‚

åœ¨å‡½æ•°å†…éƒ¨å¯ä»¥å®šä¹‰å…¶ä»–å‡½æ•°å¹¶è°ƒç”¨ã€‚ğŸ’¡ å‡½æ•°å£°æ˜ä¼šè¢«**æå‡**(Hoist)åˆ°æ‰€å¤„ä½œç”¨åŸŸçš„é¡¶ç«¯ã€‚
```javascript
function greet() {
 Â var name = 'å°æ³¢å…ˆç”Ÿ';
  
  morning();
  evening();
  
 Â function morning() {
    console.log(`Good morning, ${name}!`); 
  }
  
  function evening() {
    console.log(`Good evening, ${name}!`);
  }
}
```
```javascript
> greet()
  Good morning, å°æ³¢å…ˆç”Ÿ!
  Good evening, å°æ³¢å…ˆç”Ÿ!
â†’ undefined
```

## å†…ç½®å‡½æ•°
* `isNaN()`
* `alert()`
* `prompt()`
* `confirm()`
* `console.log()`
* `console.warn()`
* `console.error()`
* ...

## å‡½æ•° vs æ–¹æ³•
å½¢å¦‚ `console.log()` çš„å‡½æ•°æ›´å‡†ç¡®çš„ç§°è°“æ˜¯**æ–¹æ³•**ã€‚å®šä¹‰åœ¨å¯¹è±¡(Object)å†…éƒ¨çš„å‡½æ•°ç§°ä¸ºæ–¹æ³•ã€‚

ğŸ’¡ å¯ä»¥ç®€å•åœ°è®¤ä¸ºè°ƒç”¨å‡½æ•°å‰é¢æœ‰ `.` çš„å°±æ˜¯æ–¹æ³•ã€‚

## ç®­å¤´å‡½æ•°
ç®­å¤´å‡½æ•°(Arrow Function) `ES6`


## æœ¬èŠ‚ç»ƒä¹ 
* ç¼–å†™ä»¥ä¸‹å‡½æ•° `area()`ï¼Œå¹¶ä½¿ç”¨ `ES6` çš„æ–¹å¼ç»™ `height` è®¾ç½®é»˜è®¤å€¼ã€‚
```javascript
/**
 * ç»™å®šé•¿æ–¹å½¢çš„å®½å’Œé«˜ï¼Œè®¡ç®—å…¶é¢ç§¯å¹¶è¿”å›ã€‚
 * è‹¥ å®½ === é«˜ï¼Œåˆ™åªéœ€è¦ä¼ å…¥å®½çš„å€¼ã€‚
 * @param {number} width å®½
 * @param {number} height é«˜
 */
function(width, height) {

}
```

* ç¼–å†™ä»¥ä¸‹å‡½æ•° `max()`
```javascript
/**
 * è¾“å…¥ä»»æ„æ•°ç›®çš„æ•°å­—å‚æ•°ï¼Œè¿”å›å…¶ä¸­æœ€å¤§çš„æ•°å­—ã€‚
 * @return {number}
 */
function max() {

}
```

* ç¼–å†™ä»¥ä¸‹å‡½æ•° `pow()`
```javascript
/**
 * ç»™å®šæ•°å­— xï¼Œè¿”å› x è‡ªä¹˜ n æ¬¡çš„ç»“æœã€‚
 * @param {number} x
 * @param {number} n - æ­£æ•´æ•°
 * @return {number}
 */
function pow(x, n) {

}
```

* ç¼–å†™ä»¥ä¸‹å‡½æ•° `appearances()`
```javascript
/**
 * è®¡ç®—åœ¨æŸæ®µæ–‡æœ¬ content ä¸­å‡ºç°æŸä¸ªç‰¹å®šå­—ç¬¦ä¸² search çš„æ¬¡æ•°ã€‚
 * @param {string} content - è¢«æœç´¢çš„æ–‡æœ¬å†…å®¹
 * @param {string} search - æŸ¥æ‰¾çš„å­—ç¬¦ä¸²
 * @return {number} å­—ç¬¦ä¸² search åœ¨ content ä¸­å‡ºç°çš„æ¬¡æ•°ï¼Œæ²¡æœ‰åˆ™è¿”å› 0ã€‚
 */
function appearances(content, search) {
  
} 
```

## å‚è€ƒé“¾æ¥
* [å‹¾è‚¡å®šç†](https://zh.wikipedia.org/wiki/%E5%8B%BE%E8%82%A1%E5%AE%9A%E7%90%86)
* https://javascript.info/closure
* https://hacks.mozilla.org/2015/06/es6-in-depth-arrow-functions
* https://developer.mozilla.org/en-US/docs/Web/API/Element/animate
* https://en.wikipedia.org/wiki/Immediately-invoked_function_expression
* https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Functions
* https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions
* https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions
* https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Default_parameters
* https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Building_blocks/Functions

