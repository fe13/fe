# jQuery ç®€ä»‹

jQuery æ˜¯ä¸€ä¸ªé€Ÿåº¦å¿«ï¼Œä½“ç§¯å°ï¼ŒåŠŸèƒ½å¼ºå¤§çš„ JavaScript åº“ã€‚å®ƒè®©æ“ä½œ DOMï¼Œäº‹ä»¶å¤„ç†ï¼ŒAjax ç­‰å˜å¾—ç°å¸¸ç®€å•ã€‚

> jQuery - write less, do more.

## ä½¿ç”¨ jQuery
**æ–¹æ³•ä¸€** ä¸‹è½½ jQuery åˆ°æœ¬åœ°å†é€šè¿‡ `<script>` å¯¼å…¥ã€‚
```html
<script src="scripts/jquery.js"></script>
```
**æ–¹æ³•äºŒ** ä½¿ç”¨ CDN æä¾›çš„ jQueryã€‚(åªéœ€è¦é€‰æ‹©ä¸€ä¸ªå°±è¡Œï¼Œä¸€èˆ¬å»ºè®®é€‰æ‹©å›½å†…çš„ CDN)
```html
<!-- BootCDN -->
<script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>

<!-- cdnjs -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
```
é€šè¿‡ `$` æˆ– `jQuery` å…¨å±€å˜é‡ä½¿ç”¨ jQuery
```javascript
> $
â†’ Æ’ (a,b){return new r.fn.init(a,b)}

> jQuery
â†’ Æ’ (a,b){return new r.fn.init(a,b)}

> typeof jQuery
â†’ "function"
```

## jQuery é€‰æ‹©å™¨
jQuery é€‰æ‹©å™¨åŸºæœ¬ä¸Šå°±æ˜¯ CSS é€‰æ‹©å™¨ã€‚
```javascript 
$('h1') Â  Â  Â  Â  Â  Â  Â  Â  Â    // é€‰ä¸­ h1 å…ƒç´ 

$('h1').text() Â  Â           // è·å– h1 çš„æ–‡æœ¬å†…å®¹

$('h1').text('jQuery ğŸ‘') Â  // è®¾ç½® h1 çš„æ–‡æœ¬å†…å®¹

$('p') Â  Â  Â  Â  Â  Â           // é€‰ä¸­æ‰€æœ‰ p å…ƒç´ 

$('p').length Â  Â            // æ‰€æœ‰ p å…ƒç´ æ•°é‡

$('#facebox').show() Â       // æ˜¾ç¤ºÂ #facebox å…ƒç´ 

$('.anchor').text('âš“ï¸') Â    // æ‰€æœ‰ .anchor è®¾ç½®æ–‡æœ¬ 'âš“ï¸'

$('.highlight > pre').css('background', 'lightskyblue')

$('h1, h2, h3') Â  Â  Â  Â  Â    // é€‰ä¸­æ‰€æœ‰ h1, h2, h3

$('h2:first') Â  Â  Â  Â  Â  Â    // ç¬¬ä¸€ä¸ª h2 å…ƒç´ 

$('h2:last') Â  Â  Â  Â  Â  Â     // æœ€åä¸€ä¸ª h2 å…ƒç´ 
```

## éå†å…ƒç´ 
```javascript
$('.file').find('h2').first() Â  Â  Â  Â  Â          // åœ¨ .file ä¸­æ‰¾åˆ°ç¬¬ä¸€ä¸ª h2 å¹¶è·å–å…¶ä¸­æ–‡æœ¬å†…å®¹

$('pre').last().parent().prev()Â  Â  Â             // æœ€åä¸€ä¸ª pre å…ƒç´ çš„çˆ¶å…ƒç´ çš„å‰ä¸€ä¸ªå…ƒç´ 

$('article h2').first().next().children() Â  Â  Â  // article é‡Œç¬¬ä¸€ä¸ª h2 çš„ä¸‹ä¸€ä¸ªå…ƒç´ çš„å­å…ƒç´ 

$('h1').closest('article') Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   // ç¦» h1 æœ€è¿‘çš„ article ç¥–å…ˆå…ƒç´ 
```

## DOM æ“ä½œ
```javascript
$('article h1').append('ğŸˆğŸˆğŸˆ')

$('article h1').prepend('ğŸ‰ğŸ‰ğŸ‰')

$('article h1').after('<p>ğŸ’¡ ä½ ä¹Ÿå¯ä»¥æŠŠ jQuery çš„æºä»£ç å¤åˆ¶åˆ° Console é‡Œé¢è¿è¡Œï¼Œåªæ˜¯æœ‰ç‚¹éº»çƒ¦ã€‚</p>')

$('article h1 + p').remove()

$('article h2').eq(1).before('<p>ğŸ’¡ ä½ ä¹Ÿå¯ä»¥æŠŠ jQuery çš„æºä»£ç å¤åˆ¶åˆ° Console é‡Œé¢è¿è¡Œï¼Œåªæ˜¯æœ‰ç‚¹éº»çƒ¦ã€‚</p>')
```

## DOM äº‹ä»¶
### DOM Ready
`å®˜æ–¹æ¨èå†™æ³•`
```javascript
$(function() {
 Â // æ“ä½œ DOMï¼Œç»‘å®šäº‹ä»¶ ...
});
```
è¿˜æœ‰ä¸€ç§å¸¸è§å†™æ³•
```javascript
$(document).ready(function() {
 Â // æ“ä½œ DOMï¼Œç»‘å®šäº‹ä»¶ ...
});
```
ğŸ’¡ å¦‚æœåœ¨ `DOMContentLoaded` è§¦å‘ä¹‹åè¿è¡Œä»¥ä¸Šä»£ç ï¼Œç›‘å¬å™¨å‡½æ•°ä¼šè¢«ç«‹å³æ‰§è¡Œã€‚

### ç›‘å¬äº‹ä»¶
```javascript
$('.post-form').on('submit', function(event) {
  event.preventDefault();
  
 Â $form = $(this);    // å°† this è½¬æˆä¸€ä¸ª jQuery å¯¹è±¡
 Â 
  $.ajax({
    url: $form.attr('action'),
    method: 'POST',
    data: $form.serialize(),
    success: function() { /* ... */ }
  });
});
```
#### äº‹ä»¶å§”æ‰˜
äº‹ä»¶å§”æ‰˜æ–¹å¼ç‰¹åˆ«é€‚ç”¨äºåœ¨åŠ¨æ€æ·»åŠ çš„å…ƒç´ (ä¸€å¼€å§‹å¹¶ä¸å­˜åœ¨ï¼Œæ²¡æ³•é€‰ä¸­å…ƒç´ )ä¸Šæ·»åŠ äº‹ä»¶ç›‘å¬å™¨ã€‚
```javascript
$('#app').on('click', '.btn', function() {
  // ...
});
```
ğŸ’¡ ä½¿ç”¨ `off()` æ–¹æ³•ç§»é™¤äº‹ä»¶ç›‘å¬å™¨ã€‚ ğŸŒ° `$('#app').off('click')`

ğŸ’¡ ä½¿ç”¨ `trigger()` æ–¹æ³•è§¦å‘äº‹ä»¶ã€‚ğŸŒ° `$('.btn').trigger('click')`

## æ ·å¼æ“ä½œ
```javascript
$('h1').hide()

$('h1').show()

$('h1').toggle()

$('pre').css('background-color', 'deepskyblue');

$('article h1').css({ transition: '0.3s', 'font-size': '3rem' })

$('.player').addClass('active')

$('.tab').removeClass('active')

$('.tab').toggleClass('active')
```

## AJAX
```javascript
$.ajax({
  url: '/api/cats',
 Â method: 'POST'
 Â dataType: 'json', Â  Â  Â  Â  Â  Â  Â  Â  // æŠŠæœåŠ¡ç«¯è¿”å›çš„æ•°æ®è§£ææˆ JSONï¼Œä¸€èˆ¬å¯çœç•¥
 Â data: { name: 'Tom' },
 Â contentType: 'application/json' Â  // å‘ŠçŸ¥æœåŠ¡ç«¯ç«¥é‹æˆ‘ä»¬å‘é€çš„æ˜¯ JSON æ ¼å¼çš„æ•°æ®
}).done(function(data, textStatus, jqXHR) {
  console.log('Welcome Tom!');
}).fail(function(jqXHR, textStatus, error) {
  console.log(error && error.message);
})
```

## è§†é¢‘æ•™ç¨‹
* [jQuery Crash Course](https://www.youtube.com/playlist?list=PLillGF-RfqbYJVXBgZ_nA7FTAAEpp_IAc)

## API æ–‡æ¡£
* [ä¸­æ–‡æ–‡æ¡£](http://www.jquery123.com)
* https://api.jquery.com

## å‚è€ƒé“¾æ¥
* https://jquery.com
